{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <link rel="icon" href="{% static 'img/logo.png'%}" type="image/png">
    <title>FitLife.ai</title>
    <!-- Vendor CSS Files -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/css/all.min.css">
    <link href="{% static 'css/glightbox.min.css' %}" rel="stylesheet">

    <link href="{% static 'css/dashboard.css' %}" rel="stylesheet">
</head>

<body>
    <main id="main-exercise">
        <div class="top-bar d-flex">
            <a href="{% url 'dashboard' %}"><i class="fa-solid fa-arrow-left"></i></a>
            <h2>Workout Details</h2>
        </div>
        <section id="onfocus" class="onfocus">
            <div class="container-fluid px-5">
                <div class="row">
                    <div class="col-xl-7 ms-4 ">
                        <div class="video-play position-relative"
                            style="background: linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.1)), url(../../static/img/exercises/abdominal-crunches.png) center center; background-size: cover;">
                            <a href="https://www.youtube.com/watch?v=RUNrHkbP4Pc" class="glightbox play-btn"></a>
                        </div>
                        <div class="instructions mt-4">
                            <h2>Instructions</h2>
                            <ol type="1">
                                <li>Lie on your back and bend your knees, placing your hands behind your head. </li>
                                <li>Pull your belly button towards your spine in preparation for the movement. </li>
                                <li>Slowly contract your abdominals, bringing your shoulder blades about 1 or 2 inches off the floor.</li>
                                <li>Exhale as you come up and keep your neck straight, chin up. Hold at the top of the movement for a few seconds.</li>
                                <li>Slowly lower back down, but don't relax all the way.</li>
                            </ol>
                        </div>
                        <div class="tips mt-4 mb-4">
                            <div class="alert" role="alert">
                                <div class="tips-title">
                                    <img src="{% static '/img/exercises/tips.png' %}" class="img-fluid"
                                        style="height: 32px;">
                                    <h5>Tips for posture</h5>
                                </div>
                                <p>To keep your neck in proper alignment and not moving, place your fist under your chin.</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-4 ms-5">
                        <div class="exercise-widget">
                            <div class="exercise-title">
                                <h3>Abdominal crunches</h3>
                            </div>
                        </div>
                        <div class="exercise-content">
                            <div class="row">
                                <div class="col-6">
                                    <div class="info">
                                        <img src="{% static 'img/exercises/cals.png' %}" class="img-fluid">
                                        <h5>Cals : <b>65 - 86</b></h5>
                                    </div>
                                    <div class="info">
                                        <img src="{% static 'img/exercises/reps.png' %}" class="img-fluid">
                                        <h5>Reps : <b>15</b></h5>
                                    </div>
                                    <div class="info">
                                        <img src="{% static 'img/exercises/sets.png' %}" class="img-fluid">
                                        <h5>Sets : <b>2</b></h5>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <div class="text-center">
                                        <img src="{% static 'img/exercises/body-focus-center.png' %}" class="body-focus">
                                        <figcaption>Focus Area</figcaption>
                                    </div>
                                </div>
                            </div>
                            <div class="exercise-type">
                                <h4>Workout Type</h4>
                                <div class="d-flex">
                                    <h6>Toning</h6>
                                </div>
                            </div>
                            <div class="exercise-levels">
                                <h4>Difficulty Level</h4>
                                <div class="progress">
                                    <div class="progress-bar" role="progressbar" style="width: 33%" aria-valuenow="60"
                                        aria-valuemin="0" aria-valuemax="100"></div>
                                </div>
                                <h4 class="mt-3">Beginner</h4>
                            </div>
                            <div class="text-center">
                                <audio id="testAudio" hidden src="{% static '../static/instruction.mp3' %}"
                                    type="audio/mpeg"></audio>
                                <button type="button" class="btn get-started" data-bs-toggle="modal"
                                    data-bs-target="#exampleModal">
                                    Start Workout
                                </button>
                                <div class="modal fade" id="exampleModal" tabindex="-1"
                                    aria-labelledby="exampleModalLabel" aria-hidden="true">
                                    <div class="modal-dialog modal-dialog-centered">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                                    aria-label="Close"></button>
                                            </div>
                                            <div class="modal-body">
                                                <h5>But before we start..</h5>
                                                <div class="d-flex">
                                                    <i class="fas fa-camera"></i>
                                                    <h6>Camera access is required, but we wonâ€™t record your sessions
                                                    </h6>
                                                </div>
                                                <div class="d-flex mt-3">
                                                    <i class="fa-solid fa-up-down"
                                                        style="transform: rotate(40deg);"></i>
                                                    <h6 style="margin-left: 30px;">Stand a few feets away from the
                                                        screen to see your full body</h6>
                                                </div>
                                            </div>
                                            <div class="modal-footer d-inline text-center">
                                                <button type="button" id="playAudio"
                                                    class="btn get-started">Okay!</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i
            class="fa fa-angle-double-up"></i></a>


    <!--This function is to play audio first, then wait for 3sec and start the exercise-->
    {% with name=ex_name %}
    <script type="text/javascript">
        document.getElementById("playAudio").addEventListener("click", function () {

            var audio = document.getElementById('testAudio');

            audio.play();

            function redirectHandler() {
                setTimeout(function () {
                    window.location = "{% url 'start_exercise' exercise_name=name %}";
                }, 2000);
            }

            audio.addEventListener('ended', redirectHandler, false);
        });
    </script>
    {% endwith %}

    <!-- Vendor JS Files -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
    <script src="{% static 'js/glightbox.min.js' %}"></script>
    <script src="{% static 'js/main.js' %}"></script>
</body>

</html>